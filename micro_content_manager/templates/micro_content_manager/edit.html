{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit</title>
</head>
<body>


<h1>Micro-learning contents generator</h1>

<p><a class="button" href="{% url 'user_page' %}">Go home</a></p>
<p><a class="button" href="{% url 'micro_content_manager:edit' id %}">Back</a></p>


<form action="update" method="post">

    {% csrf_token %}

    <h2>Content</h2>
    <input type="hidden" name="id" value="{{ id }}">
    <p>Title: <input type="text" name="title" value="{{ title }}" required></p>
    {% for p in text %}
        <p>Paragraph {{ forloop.counter }}:<textarea name="paragraph{{ forloop.counter }}" rows="2"
                                                     cols="100">{{ p }}</textarea></p>
    {% endfor %}
    <p>Video URL:<input name="videoURL" type="url" value="{{ video.url }}"></p>
    <p>Video format:<select name="videoFormat">
        <option value="mp4" {% if video.format == 'mp4' %} selected {% endif %}>mp4</option>
        <option value="ogg" {% if video.format == 'ogg' %} selected {% endif %}>ogg</option>
    </select></p>

    <h2>Quiz</h2>
    {% for q in quiz %}
        <p>Question {{ forloop.counter }}: <textarea name="question{{ forloop.counter }}" rows="1"
                                                     cols="100">{{ q.question }}</textarea></p>
        Choices {{ forloop.counter }} (write the possible answers and select the correct one):<br>
        {% for c in q.choices %}
            <input type="radio" name="answer{{ forloop.parentloop.counter }}"
                   value="choice{{ forloop.parentloop.counter }}_{{ forloop.counter }}"
                   {% if q.answer == c %}checked {% endif %}>
            <input type="text" name="choice{{ forloop.parentloop.counter }}_{{ forloop.counter }}" value="{{ c }}"><br>
        {% endfor %}
        <p>Explanation {{ forloop.counter }}: <textarea name="explanation{{ forloop.counter }}" rows="2"
                                                        cols="100">{{ q.explanation }}</textarea></p>
    {% endfor %}
    <input type="submit" value="Edit micro-learning content">

</form>

</body>
</html>